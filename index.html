<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPC IDE — Полный справочник по языку UPC</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2980b9;
            --accent: #2ecc71;
            --text: #ecf0f1;
            --background: #1a1a1a;
            --code-bg: #2c3e50;
            --border: #34495e;
            --highlight: #e74c3c;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--background);
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            color: var(--primary);
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        
        h2 {
            color: var(--secondary);
            font-size: 1.8em;
            margin-top: 40px;
            padding-left: 10px;
            border-left: 4px solid var(--accent);
        }
        
        h3 {
            color: var(--accent);
            font-size: 1.4em;
            margin-top: 30px;
        }
        
        b {
            color: var(--accent);
            font-weight: 600;
        }
        
        code, pre {
            font-family: 'Consolas', 'Monaco', monospace;
            background-color: var(--code-bg);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.95em;
        }
        
        pre {
            padding: 15px;
            overflow-x: auto;
            border-left: 3px solid var(--primary);
            margin: 15px 0;
        }
        
        i {
            color: #95a5a6;
        }
        
        ol, ul {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 15px;
        }
        
        hr {
            border: none;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border), transparent);
            margin: 40px 0;
        }
        
        .command {
            background: linear-gradient(90deg, rgba(44,62,80,0.3), rgba(44,62,80,0.1));
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 3px solid var(--accent);
        }
        
        .example {
            background-color: rgba(44,62,80,0.5);
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
        }
        
        .footer {
            text-align: center;
            font-size: 0.8em;
            color: #7f8c8d;
            margin-top: 50px;
        }
        
        .note {
            background-color: rgba(231, 76, 60, 0.1);
            padding: 10px;
            border-left: 3px solid var(--highlight);
            margin: 15px 0;
        }
        
        .tip {
            background-color: rgba(46, 204, 113, 0.1);
            padding: 10px;
            border-left: 3px solid var(--accent);
            margin: 15px 0;
        }
        
        .version {
            font-size: 0.7em;
            color: #95a5a6;
            margin-left: 8px;
            font-weight: normal;
            letter-spacing: 1px;
            position: relative;
            top: -2px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        th {
            background-color: var(--code-bg);
            color: var(--accent);
        }
        
        tr:hover {
            background-color: rgba(44, 62, 80, 0.3);
        }
    </style>
</head>
<body>
    <h1>UPC IDE <span class="version">alpha (0.1)</span></h1>
    <h2 style="text-align: center; color: var(--accent); border: none;">Полный справочник по языку UPC</h2>
    
    <div class="tip">
        <b>Что такое UPC?</b><br>
        UPC (Universal Patch Container) — это упрощённый язык для написания патчей к программам.<br>
        С его помощью можно создавать скрипты, которые встраиваются в программы и изменяют их поведение, файлы или содержимое.<br>
        Язык разработан для удобства и универсальности.
    </div>

    <hr>

    <h2>Основные команды</h2>
    
    <div class="command">
        <b>patch</b> — объявляет начало патча и его версию.<br>
        <div class="example">
            <i>синтаксис:</i> <code>patch &lt;версия&gt;</code><br>
            <i>пример:</i> <code>patch 1.0</code>
        </div>
    </div>
    
    <div class="command">
        <b>description</b> — устанавливает описание патча.<br>
        <div class="example">
            <i>синтаксис:</i> <code>description "текст"</code><br>
            <i>пример:</i> <code>description "Исправление ошибки загрузки"</code>
        </div>
    </div>

    <hr>

    <h2>Файловые операции</h2>
    
    <div class="command">
        <b>replace</b> — заменяет текст в файле.<br>
        <div class="example">
            <i>синтаксис:</i> <code>replace ["файл"], "старый_текст" to "новый_текст"</code><br>
            <i>пример:</i> <code>replace "config.ini", "Hello" to "Привет"</code>
        </div>
    </div>
    
    <div class="command">
        <b>delete</b> — удаляет строку из файла.<br>
        <div class="example">
            <i>синтаксис:</i> <code>delete ["файл"] "текст"</code><br>
            <i>пример:</i> <code>delete "config.ini" "debug_mode=1"</code>
        </div>
    </div>
    
    <div class="command">
        <b>create</b> — создает новый файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>create "путь_к_файлу" ( содержимое ) ce</code><br>
            <i>пример:</i>
            <pre>create "script.py"
(
print("Hello World")
)
ce</pre>
        </div>
    </div>
    
    <div class="command">
        <b>copy</b> — копирует файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>copy "источник" to "назначение"</code><br>
            <i>пример:</i> <code>copy "backup.ini" to "config.ini"</code>
        </div>
    </div>
    
    <div class="command">
        <b>move</b> — перемещает файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>move "источник" to "назначение"</code><br>
            <i>пример:</i> <code>move "old.txt" to "new.txt"</code>
        </div>
    </div>
    
    <div class="command">
        <b>rename</b> — переименовывает файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>rename "старое_имя" to "новое_имя"</code><br>
            <i>пример:</i> <code>rename "old.txt" to "new.txt"</code>
        </div>
    </div>
    
    <div class="command">
        <b>backup</b> — создает резервную копию файла.<br>
        <div class="example">
            <i>синтаксис:</i> <code>backup "файл"</code><br>
            <i>пример:</i> <code>backup "config.ini"</code>
        </div>
    </div>

    <hr>

    <h2>Работа с директориями</h2>
    
    <div class="command">
        <b>mkdir</b> — создает директорию.<br>
        <div class="example">
            <i>синтаксис:</i> <code>mkdir "путь"</code><br>
            <i>пример:</i> <code>mkdir "logs/2023"</code>
        </div>
    </div>
    
    <div class="command">
        <b>rmdir</b> — удаляет пустую директорию.<br>
        <div class="example">
            <i>синтаксис:</i> <code>rmdir "путь"</code><br>
            <i>пример:</i> <code>rmdir "temp"</code>
        </div>
    </div>

    <hr>

    <h2>Архивация</h2>
    
    <div class="command">
        <b>zip</b> — создает ZIP-архив.<br>
        <div class="example">
            <i>синтаксис:</i> <code>zip "архив.zip" add "файл1" [add "файл2"...]</code><br>
            <i>пример:</i> <code>zip "backup.zip" add "data.db" add "config.ini"</code>
        </div>
    </div>
    
    <div class="command">
        <b>unzip</b> — распаковывает ZIP-архив.<br>
        <div class="example">
            <i>синтаксис:</i> <code>unzip "архив.zip" to "папка"</code><br>
            <i>пример:</i> <code>unzip "update.zip" to "temp/"</code>
        </div>
    </div>

    <hr>

    <h2>Системные команды</h2>
    
    <div class="command">
        <b>run</b> — выполняет системную команду.<br>
        <div class="example">
            <i>синтаксис:</i> <code>run "команда"</code><br>
            <i>пример:</i> <code>run "python setup.py"</code>
        </div>
    </div>
    
    <div class="command">
        <b>start</b> — запускает файл или команду.<br>
        <div class="example">
            <i>синтаксис:</i> <code>start "команда_или_файл"</code><br>
            <i>пример:</i> <code>start "app.exe"</code>
        </div>
    </div>
    
    <div class="command">
        <b>download</b> — скачивает файл из интернета.<br>
        <div class="example">
            <i>синтаксис:</i> <code>download "url" to "файл"</code><br>
            <i>пример:</i> <code>download "https://example.com/file.exe" to "file.exe"</code>
        </div>
    </div>
    
    <div class="command">
        <b>env</b> — работа с переменными окружения.<br>
        <div class="example">
            <i>синтаксис:</i> <code>env set|get "переменная" ["значение"]</code><br>
            <i>примеры:</i>
            <pre>env set "PATH" "%PATH%;C:\tools"
env get "JAVA_HOME"</pre>
        </div>
    </div>

    <hr>

    <h2>Управление выполнением</h2>
    
    <div class="command">
        <b>if</b> — условное выполнение.<br>
        <div class="example">
            <i>синтаксис:</i> <code>if &lt;условие&gt; then &lt;команда&gt;</code><br>
            <i>пример:</i> <code>if file_exists "config.ini" then message "Файл найден"</code>
        </div>
    </div>
    
    <div class="command">
        <b>exec_if</b> — условное выполнение блока команд.<br>
        <div class="example">
            <i>синтаксис:</i> <code>exec_if &lt;условие&gt; ( команды )</code><br>
            <i>пример:</i>
            <pre>exec_if os_is "windows" (
    message "Обнаружена Windows"
    run "setup.exe"
)</pre>
        </div>
    </div>
    
    <div class="command">
        <b>wait</b> — пауза в выполнении.<br>
        <div class="example">
            <i>синтаксис:</i> <code>wait &lt;мс&gt;</code><br>
            <i>пример:</i> <code>wait 2000  # Ждет 2 секунды</code>
        </div>
    </div>

    <hr>

    <h2>Дополнительные команды</h2>
    
    <div class="command">
        <b>message</b> — выводит сообщение пользователю.<br>
        <div class="example">
            <i>синтаксис:</i> <code>message "текст"</code><br>
            <i>пример:</i> <code>message "Патч успешно установлен"</code>
        </div>
    </div>
    
    <div class="command">
        <b>log</b> — записывает в лог-файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>log "файл" "текст"</code><br>
            <i>пример:</i> <code>log "install.log" "Начало установки"</code>
        </div>
    </div>
    
    <div class="command">
        <b>checksum</b> — проверяет контрольную сумму.<br>
        <div class="example">
            <i>синтаксис:</i> <code>checksum "файл" md5|sha256 "сумма"</code><br>
            <i>пример:</i> <code>checksum "file.exe" sha256 "a1b2c3..."</code>
        </div>
    </div>
    
    <div class="command">
        <b>embed</b> — встраивает бинарный файл.<br>
        <div class="example">
            <i>синтаксис:</i> <code>embed [create] "файл" type base64 ( данные ) ce</code><br>
            <i>пример:</i>
            <pre>embed create "image.png" type base64
(
iVBORw0KGgoAAAANSUhEUgAA...
)
ce</pre>
        </div>
    </div>

    <hr>

    <h2>Условия для UPC-патчей</h2>
    
    <table>
        <thead>
            <tr>
                <th>Условие</th>
                <th>Описание</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>file_exists "путь"</code></td>
                <td>Существует ли файл</td>
            </tr>
            <tr>
                <td><code>file_not_exists "путь"</code></td>
                <td>Не существует ли файл</td>
            </tr>
            <tr>
                <td><code>dir_exists "путь"</code></td>
                <td>Существует ли папка</td>
            </tr>
            <tr>
                <td><code>dir_not_exists "путь"</code></td>
                <td>Не существует ли папка</td>
            </tr>
            <tr>
                <td><code>env_exists "VAR"</code></td>
                <td>Установлена ли переменная окружения</td>
            </tr>
            <tr>
                <td><code>env_not_exists "VAR"</code></td>
                <td>Не установлена ли переменная окружения</td>
            </tr>
            <tr>
                <td><code>env_equals "VAR" "значение"</code></td>
                <td>Переменная окружения равна значению</td>
            </tr>
            <tr>
                <td><code>env_not_equals "VAR" "значение"</code></td>
                <td>Переменная окружения НЕ равна значению</td>
            </tr>
            <tr>
                <td><code>file_contains "файл" "строка"</code></td>
                <td>Файл содержит указанную строку</td>
            </tr>
            <tr>
                <td><code>file_not_contains "файл" "строка"</code></td>
                <td>Файл НЕ содержит строку</td>
            </tr>
            <tr>
                <td><code>file_size_gt "файл" байты</code></td>
                <td>Размер файла больше указанного числа</td>
            </tr>
            <tr>
                <td><code>file_size_lt "файл" байты</code></td>
                <td>Размер файла меньше указанного числа</td>
            </tr>
            <tr>
                <td><code>os_is "windows"/"linux"/"mac"</code></td>
                <td>Проверка операционной системы</td>
            </tr>
            <tr>
                <td><code>true</code> / <code>false</code></td>
                <td>Безусловное да или нет (удобно для отладки)</td>
            </tr>
            <tr>
                <td><code>path_exists "путь"</code></td>
                <td>Существует ли папка</td>
            </tr>
        </tbody>
    </table>

    <h3>Примеры использования условий</h3>
    
    <div class="example">
        <pre>if file_contains "config.ini" "debug=true" then message "Отладка включена"</pre>
    </div>
    
    <div class="example">
        <pre>exec_if env_equals "MODE" "release" (
  message "Релизная сборка"
  run "clean_temp.bat"
)</pre>
    </div>
    
    <div class="example">
        <pre>exec_if file_size_gt "data.bin" 100000 (
  message "Файл data.bin большой"
)</pre>
    </div>
    
    <div class="example">
        <pre>if os_is "linux" then message "Работает в Linux"</pre>
    </div>

    <hr>

    <h2>Советы и рекомендации</h2>
    
    <div class="tip">
        <ul>
            <li>Пишите команды с маленьких букв — это облегчает чтение и парсинг.</li>
            <li>Текст внутри кавычек "" — чувствителен к регистру и должен быть точным.</li>
            <li>Для больших файлов используйте команду <b>embed</b> с base64, чтобы встроить бинарные данные.</li>
            <li>Всегда проверяйте синтаксис перед применением патча.</li>
            <li>Используйте <b>backup</b>, чтобы сохранить оригиналы файлов перед изменениями.</li>
            <li>Проверяйте условия в <b>if</b> и <b>exec_if</b>, чтобы избежать ошибок при применении патчей.</li>
        </ul>
    </div>

    <div class="footer">
        UPC IDE — помощник для создания патчей. Все права НЕ защищены, хехе.
    </div>
</body>
</html>
